{
  "version": 3,
  "sources": ["../../../src/signers/raw-signer.ts"],
  "sourcesContent": ["import { keccak_256 } from '@noble/hashes/sha3';\n\nimport type { MgoClient } from '../client/index.js';\nimport type { Keypair } from '../cryptography/keypair.js';\nimport { toSerializedSignature } from '../cryptography/signature.js';\nimport type { SerializedSignature } from '../cryptography/signature.js';\nimport type { JsonRpcProvider } from '../providers/json-rpc-provider.js';\nimport { SignerWithProvider } from './signer-with-provider.js';\n\nexport class RawSigner extends SignerWithProvider {\n\tprivate readonly keypair: Keypair;\n\n\tconstructor(keypair: Keypair, client: JsonRpcProvider | MgoClient) {\n\t\tsuper(client);\n\t\tthis.keypair = keypair;\n\t}\n\n\tasync getAddress(): Promise<string> {\n\t\treturn this.keypair.getPublicKey().toMgoAddress();\n\t}\n\n\tasync signData(data: Uint8Array): Promise<SerializedSignature> {\n\t\tconst publicKey = this.keypair.getPublicKey();\n\t\tconst digest = keccak_256(data);\n\t\tconst signature = this.keypair.signData(digest);\n\t\tconst signatureScheme = this.keypair.getKeyScheme();\n\n\t\treturn toSerializedSignature({\n\t\t\tsignatureScheme,\n\t\t\tsignature,\n\t\t\tpublicKey,\n\t\t});\n\t}\n\n\tconnect(client: MgoClient | JsonRpcProvider): SignerWithProvider {\n\t\treturn new RawSigner(this.keypair, client);\n\t}\n}\n"],
  "mappings": "AAAA,SAAS,kBAAkB;AAI3B,SAAS,6BAA6B;AAGtC,SAAS,0BAA0B;AAE5B,MAAM,kBAAkB,mBAAmB;AAAA,EAGjD,YAAY,SAAkB,QAAqC;AAClE,UAAM,MAAM;AACZ,SAAK,UAAU;AAAA,EAChB;AAAA,EAEA,MAAM,aAA8B;AACnC,WAAO,KAAK,QAAQ,aAAa,EAAE,aAAa;AAAA,EACjD;AAAA,EAEA,MAAM,SAAS,MAAgD;AAC9D,UAAM,YAAY,KAAK,QAAQ,aAAa;AAC5C,UAAM,SAAS,WAAW,IAAI;AAC9B,UAAM,YAAY,KAAK,QAAQ,SAAS,MAAM;AAC9C,UAAM,kBAAkB,KAAK,QAAQ,aAAa;AAElD,WAAO,sBAAsB;AAAA,MAC5B;AAAA,MACA;AAAA,MACA;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EAEA,QAAQ,QAAyD;AAChE,WAAO,IAAI,UAAU,KAAK,SAAS,MAAM;AAAA,EAC1C;AACD;",
  "names": []
}
