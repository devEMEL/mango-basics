{
  "version": 3,
  "sources": ["../../../src/types/events.ts"],
  "sourcesContent": ["import type { Infer } from 'superstruct';\nimport { any, array, boolean, nullable, object, optional, record, string } from 'superstruct';\n\nimport { MgoJsonValue } from './common.js';\n\nexport const EventId = object({\n\ttxDigest: string(),\n\teventSeq: string(),\n});\n\n// event types mirror those in \"mgo-json-rpc-types/src/mgo_event.rs\"\n\nexport const MgoEvent = object({\n\tid: EventId,\n\t// Move package where this event was emitted.\n\tpackageId: string(),\n\t// Move module where this event was emitted.\n\ttransactionModule: string(),\n\t// Sender's Mgo address.\n\tsender: string(),\n\t// Move event type.\n\ttype: string(),\n\t// Parsed json value of the event\n\tparsedJson: optional(record(string(), any())),\n\t// Base 58 encoded bcs bytes of the move event\n\tbcs: optional(string()),\n\ttimestampMs: optional(string()),\n});\n\nexport type MgoEvent = Infer<typeof MgoEvent>;\n\nexport type MoveEventField = {\n\tpath: string;\n\tvalue: MgoJsonValue;\n};\n\n/**\n * Sequential event ID, ie (transaction seq number, event seq number).\n * 1) Serves as a unique event ID for each fullnode\n * 2) Also serves to sequence events for the purposes of pagination and querying.\n *    A higher id is an event seen later by that fullnode.\n * This ID is the \"cursor\" for event querying.\n */\nexport type EventId = Infer<typeof EventId>;\n\n// mirrors mgo_json_rpc_types::MgoEventFilter\nexport type MgoEventFilter =\n\t| { Package: string }\n\t| { MoveModule: { package: string; module: string } }\n\t| { MoveEventType: string }\n\t| { MoveEventField: MoveEventField }\n\t| { Transaction: string }\n\t| {\n\t\t\tTimeRange: {\n\t\t\t\t// left endpoint of time interval, milliseconds since epoch, inclusive\n\t\t\t\tstartTime: string;\n\t\t\t\t// right endpoint of time interval, milliseconds since epoch, exclusive\n\t\t\t\tendTime: string;\n\t\t\t};\n\t  }\n\t| { Sender: string }\n\t| { All: MgoEventFilter[] }\n\t| { Any: MgoEventFilter[] }\n\t| { And: [MgoEventFilter, MgoEventFilter] }\n\t| { Or: [MgoEventFilter, MgoEventFilter] };\n\nexport const PaginatedEvents = object({\n\tdata: array(MgoEvent),\n\tnextCursor: nullable(EventId),\n\thasNextPage: boolean(),\n});\nexport type PaginatedEvents = Infer<typeof PaginatedEvents>;\n\n/* ------------------------------- EventData ------------------------------ */\n\nexport function getEventSender(event: MgoEvent): string {\n\treturn event.sender;\n}\n\nexport function getEventPackage(event: MgoEvent): string {\n\treturn event.packageId;\n}\n"],
  "mappings": "AACA,SAAS,KAAK,OAAO,SAAS,UAAU,QAAQ,UAAU,QAAQ,cAAc;AAIzE,MAAM,UAAU,OAAO;AAAA,EAC7B,UAAU,OAAO;AAAA,EACjB,UAAU,OAAO;AAClB,CAAC;AAIM,MAAM,WAAW,OAAO;AAAA,EAC9B,IAAI;AAAA;AAAA,EAEJ,WAAW,OAAO;AAAA;AAAA,EAElB,mBAAmB,OAAO;AAAA;AAAA,EAE1B,QAAQ,OAAO;AAAA;AAAA,EAEf,MAAM,OAAO;AAAA;AAAA,EAEb,YAAY,SAAS,OAAO,OAAO,GAAG,IAAI,CAAC,CAAC;AAAA;AAAA,EAE5C,KAAK,SAAS,OAAO,CAAC;AAAA,EACtB,aAAa,SAAS,OAAO,CAAC;AAC/B,CAAC;AAuCM,MAAM,kBAAkB,OAAO;AAAA,EACrC,MAAM,MAAM,QAAQ;AAAA,EACpB,YAAY,SAAS,OAAO;AAAA,EAC5B,aAAa,QAAQ;AACtB,CAAC;AAKM,SAAS,eAAe,OAAyB;AACvD,SAAO,MAAM;AACd;AAEO,SAAS,gBAAgB,OAAyB;AACxD,SAAO,MAAM;AACd;",
  "names": []
}
